(()=>{"use strict";var t={78:(t,e,o)=>{t.exports=o.p+"5ca61e82c0584bdf361e.svg"},613:(t,e,o)=>{t.exports=o.p+"b102e0c138da3d1896f3.svg"},417:(t,e,o)=>{t.exports=o.p+"197ea0849751401ac26c.svg"},265:(t,e,o)=>{t.exports=o.p+"39615cbdd64fcf136338.svg"},358:(t,e,o)=>{t.exports=o.p+"3ae544c41122d8b588cf.svg"},239:(t,e,o)=>{t.exports=o.p+"7c1c84ecb7617dea83aa.svg"},625:(t,e,o)=>{t.exports=o.p+"931b67957a51309f028b.svg"}},e={};function o(n){var r=e[n];if(void 0!==r)return r.exports;var a=e[n]={exports:{}};return t[n](a,a.exports,o),a.exports}o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var t;o.g.importScripts&&(t=o.g.location+"");var e=o.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=t})(),(()=>{const t=document.getElementById("popUp");function e(e,o,n){if(t.classList.remove("dp-none"),t.querySelector("label").textContent=e,o?t.querySelector("input").classList.remove("dp-none"):t.querySelector("input").classList.add("dp-none"),n){if(t.querySelector("[data-err]")){const e=t.querySelector("[data-err]");t.querySelector("[data-form]").removeChild(e)}const e=document.createElement("p");e.textContent=n,e.dataset.err=!0,t.querySelector("[data-form]").insertBefore(e,t.querySelector("[data-buttons]"))}return 0}const n={use:"function",input:"string",set fn(t){this.use=t},set inputVal(t){this.input=t}};t.addEventListener("click",(e=>{if(t.querySelector("[data-err]")){const e=t.querySelector("[data-err]");t.querySelector("[data-form]").removeChild(e)}(e.target.matches("#popUp")||e.target.matches(".warning"))&&(e.preventDefault(),t.classList.add("dp-none"),t.querySelector("input").value=""),e.target.matches(".success")&&(e.preventDefault(),t.querySelector("input").classList.contains("dp-none")?(n.use(),t.classList.add("dp-none")):(n.inputVal=t.querySelector("input").value??!1,t.querySelector("input").value="",n.use(n.input),t.classList.add("dp-none")))}));var r=o(239),a=o(417),s=o(265),c=o(78),i=o(358);const l=document.getElementById("taskEditor"),d=document.getElementById("addTask-btn"),p=document.getElementById("updateTask-btn"),u=document.getElementById("filterContainer"),g=document.getElementById("listContainer"),m=document.getElementById("projectList-btn"),y=document.getElementById("deleteTask-btn"),f=(()=>{function t(){const t=l.querySelectorAll(".dropdown[data-color]"),e=l.querySelector("#priorityMenu > button").textContent;t.forEach((t=>{t.setAttribute("data-color",e)}))}return d.querySelector("img").src=s,m.querySelector("img").src=a,p.querySelector("img").src=c,y.querySelector("img").src=i,l.querySelector("#cancelEdit-btn > img").src=r,l.addEventListener("click",(e=>{l.querySelectorAll(".dropdown").forEach((t=>{t.classList.remove("active")})),e.target.matches("[data-dropdown-priority]")?e.target.closest("#priorityMenu").classList.toggle("active"):(e.target.matches("[data-priority-link]")&&(e.target.closest("#priorityMenu").querySelector("[data-dropdown-priority]").textContent=e.target.textContent,t()),e.target.matches("[data-dropdown-project]")?e.target.closest("#projectMenu").classList.toggle("active"):e.target.matches("[data-project-link]")&&(e.target.closest("#projectMenu").querySelector("[data-dropdown-project]").textContent=e.target.textContent))})),l.querySelector("#cancelEdit-btn").addEventListener("click",(()=>{m.classList.toggle("dp-none"),u.classList.toggle("dp-none"),g.classList.toggle("dp-none"),l.classList.toggle("dp-none"),d.classList.toggle("dp-none"),p.classList.toggle("dp-none"),y.classList.add("dp-none")})),l.querySelector("#markCompleted-btn").addEventListener("click",(t=>{t.target.classList.toggle("mark"),t.target.textContent=t.target.classList.contains("mark")?"Completed":"Mark Completed"})),{setTaskEditorPage:function(){return d.classList.toggle("dp-none"),u.classList.toggle("dp-none"),g.classList.toggle("dp-none"),m.classList.toggle("dp-none"),p.classList.toggle("dp-none"),y.classList.toggle("dp-none"),l.classList.toggle("dp-none"),0},getFormElement:function(){return{priorityEl:l.querySelector("[data-dropdown-priority]"),dueDateEl:l.querySelector("#dueDateInput"),projectEl:l.querySelector("[data-dropdown-project]"),titleEl:l.querySelector("#todoInput"),descriptionEl:l.querySelector("#descriptionInput"),completedEl:l.querySelector("#markCompleted-btn")}},colorBtns:t}})(),h=(()=>{const t={tasks:{init:{priority:"Medium",dueDate:(new Date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),project:"myProject",title:"What you gonna make today",description:"Write it down, and maybe have some description to it. Also, you can add short notes, or checkbox to make things clearer ðŸ˜",completed:!1}},projects:{myProject:0},preference:{projectFilter:"",displayFilter:"All"}};return{getTodolist:async function e(){try{const o=await JSON.parse(localStorage.getItem("todolist"));return await o||(localStorage.setItem("todolist",JSON.stringify(t)),e()),o}catch(t){throw new Error("todolist isn't exit")}}}})(),v=h,S=t=>{const e=new Date(t),[o,n,r]=[e.getMonth(),e.getDate(),e.getFullYear()];return`${r}-${o+1<10?"0".concat(o+1):o}-${n<10?"0".concat(n):n}`},E=(()=>{async function t(){try{const t=await async function(){const t=await v.getTodolist(),e=await t.preference.displayFilter;return u.querySelector("#displayFilter > button").textContent=e,e}();g.querySelectorAll(".task-container").forEach((e=>{e.classList.remove("dp-none"),("true"===e.getAttribute("data-status")?"Completed":"Uncompleted")!==t&&"All"!==t&&e.classList.add("dp-none")}))}catch(t){throw new Error(t)}}return u.querySelector("#projectFilterInput").addEventListener("input",(t=>function(t){const e=t.target.value.toUpperCase(),o=e.split("");g.querySelectorAll(".task-container").forEach((t=>{t.classList.remove("dp-none");const n=t.querySelector(".tag-container > .project").textContent.toUpperCase().split("");if(!e)return 1;for(let e=0;e<o.length;e+=1)if(n[e]!==o[e])return t.classList.add("dp-none"),1;return 0}))}(t))),u.addEventListener("click",(e=>{e.target.matches("[data-dropdown-display]")?e.target.closest("#displayFilter").classList.toggle("active"):(e.target.matches("[data-display-link]")&&(e.target.closest("#displayFilter").querySelector("[data-dropdown-display]").textContent=e.target.textContent,Promise.resolve(async function(){const t=await v.getTodolist(),e=await t;e.preference.displayFilter=u.querySelector("#displayFilter > button").textContent,localStorage.clear(),localStorage.setItem("todolist",JSON.stringify(e))}()).then((()=>{t()}))),u.querySelector(".dropdown").classList.remove("active"))})),{filterTasks:t,sortTasks:async function(){const t=g.querySelectorAll(".task-container"),e=[];Array.from(t).forEach((t=>{const o=t.getAttribute("data-name"),n=t.querySelector(".due-date").textContent,r=new Date(n).getTime(),a=t.querySelector(".priority").textContent,s=t.querySelector(".project").textContent,c="none"!==s?s.toUpperCase().split("").map((t=>-1*t.charCodeAt())):[-91],i=t.getAttribute("data-status"),l=[o,r,{none:0,Low:1,Medium:2,High:3}[a],c,"true"===i?-1:1];e.push(l)})),(await async function(t){const e=t;for(let t=0;t<e.length-1;t+=1)for(let o=0;o<e.length-1-t;o+=1){const t=Number.parseInt(e[o][1],16),n=Number.parseInt(e[o+1][1],16),r=t>n,a=t===n,s=e[o][2]<e[o+1][2],c=e[o][2]===e[o+1][2];let i=!1;const l=e[o][3],d=e[o+1][3],p=l.length<d.length?l.length:d.length,u=l.join()===d.join();for(let t=0;t<p;t+=1)l[t]<d[t]&&(i=!0);const g=e[o][4]<e[o+1][4],m=e[o][4]===e[o+1][4];let y=!1;if(a?c?u?m||(y=g):y=i:y=s:y=r,y){const t=e[o];e[o]=e[o+1],e[o+1]=t}}return e}(e)).forEach((t=>{const[e]=t,o=g.querySelector(`[data-name="${e}"]`),n=o;return g.removeChild(o),g.appendChild(n),0}))}}})(),L=E,w=(()=>{async function t(){const t=document.querySelector("#projectMenu > .dropdown-menu"),e=await v.getTodolist();for(;t.children[0];)t.removeChild(t.children[0]);Object.keys(e.projects).forEach((e=>{const o=document.createElement("p");o.classList.add("dropdown-link"),o.dataset.projectLink=e,o.textContent=e,t.appendChild(o)}))}async function o(o){const n=await v.getTodolist(),{projects:r}=await n;if(o in await r)return e("Create a project",!0,"the name has been used"),this;if(!1===o||!o.toString().trim())return e("Create a project",!0,"Please enter a name"),this;r[o]=0;const a=n;return a.projects=r,localStorage.clear(),localStorage.setItem("todolist",JSON.stringify(a)),t(),0}async function r(){const e=await v.getTodolist();try{const o=e.tasks;Object.entries(o).forEach((e=>{const[o,n]=e,r=document.createElement("div"),a=n.description.length>71?n.description.slice(0,71).concat("..."):n.description,s="none"===n.priority?"dp-none":"",c="none"===n.project?"dp-none":"";r.classList.add("task-container"),r.innerHTML=`\n          <div class="tag-container" data-color="${n.priority}">\n            <div class="priority ${s}">${n.priority}</div>\n            <div class="due-date">${n.dueDate}</div>\n            <div class="project ${c}">${n.project}</div>\n          </div>\n          <div class="info-container">\n            <div class="title">${n.title}</div>\n            <div class="description">${a}</div>\n          </div>\n        `,r.dataset.name=o,r.dataset.status=n.completed,r.addEventListener("click",(()=>{!function(e,o){f.setTaskEditorPage(),t();const{priorityEl:n,dueDateEl:r,projectEl:a,titleEl:s,descriptionEl:c,completedEl:i}=f.getFormElement(),{priority:l,dueDate:d,project:p,title:u,description:g,completed:m}=o;n.textContent=l,r.value=S(d),a.textContent=p,s.value=u,s.dataset.name=e,c.value=g,!0===m&&(i.textContent="Completed",i.classList.add("mark")),f.colorBtns()}(o,n)})),g.appendChild(r)})),L.filterTasks(),L.sortTasks()}catch(t){throw new Error(t)}}function a(){g.querySelectorAll(".task-container").forEach((t=>{g.removeChild(t)}))}function s(t){m.classList.toggle("dp-none"),u.classList.toggle("dp-none"),g.classList.toggle("dp-none"),l.classList.toggle("dp-none"),d.classList.toggle("dp-none"),p.classList.toggle("dp-none"),y.classList.add("dp-none"),a(),localStorage.removeItem("todolist"),localStorage.setItem("todolist",JSON.stringify(t)),r()}async function c(){const t=await v.getTodolist(),e=await t,o=l.querySelector("#todoInput").dataset.name;if(!(o in e.tasks))throw new Error("id missing, check delete");delete e.tasks[o],s(await e)}return document.querySelector("#projectMenu + button").addEventListener("click",(()=>{e("Create a project",!0),n.fn=o})),d.addEventListener("click",(()=>{f.setTaskEditorPage(),t();const{priorityEl:e,dueDateEl:o,projectEl:n,titleEl:r,descriptionEl:a,completedEl:s}=f.getFormElement();l.querySelector("#priorityMenu").setAttribute("data-color","default"),e.textContent="none",o.value=S(Date.now()),l.querySelector("#projectMenu").setAttribute("data-color","default"),n.textContent="none",r.value="",r.dataset.name="addNewTask",a.value="",s.classList.remove("mark")})),p.addEventListener("click",(()=>{new Promise(((t,e)=>{t(v.getTodolist()),e(new Error("something wrong when updating"))})).then((t=>{const e=t,o=l.querySelector("#todoInput").dataset.name,{priorityEl:n,dueDateEl:r,projectEl:a,titleEl:c,descriptionEl:i,completedEl:d}=f.getFormElement(),p={priority:n.textContent,dueDate:new Date(r.value).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),project:a.textContent,title:c.value,description:i.value,completed:d.classList.contains("mark")},u=function(t){let e=0;const o=Object.values(t).toString().split("").map((t=>t.charCodeAt(0)));for(let t=0;t<o.length;t+=1)e+=parseInt(o[t],16)*(t+1);return`id${e.toString()}`}(p);if(o in e.tasks)delete e.tasks[o],e.tasks[u]=p;else{if("addNewTask"!==o)throw new Error("the entry of the task doesn't exit");e.tasks[u]=p}s(e)}))})),y.addEventListener("click",(function(){e("Delete cannot undo",!1),n.fn=c})),{createTasks:r,clearList:a}})();var k=o(625),j=o(613);const q=(()=>{const t=document.getElementById("projectContainer"),o=document.getElementById("listContainer"),r=document.getElementById("projectAdd-btn");function a(){const t=document.getElementById("projectList");return t.children[0]&&(t.removeChild(t.children[0]),a()),0}async function s(){const o=await v.getTodolist(),r=await o.projects;let c=1;Object.entries(r).forEach((r=>{const[i]=r;let[,l]=r;Object.values(o.tasks).forEach((t=>{i===t.project&&(l+=1)}));const d=document.createElement("li");d.classList.add("project-item"),d.innerHTML=`\n            <p data-project>${c}. ${i.toString()}</p>\n            <div class="task-counter">\n              <span>${l}</span>\n              <div>task${l>1?"s":""} in the project</div>\n            </div>\n            <div class="delete-sign">\n              <img src="${k}" alt="delete">\n            </div>\n          `,c+=1,d.dataset.name=i,d.querySelector(".delete-sign").addEventListener("click",(()=>{e(`${l} task${l>1?"s":""} will be set to Project: none`,!1),n.fn=()=>{Promise.resolve(async function(t){const e=t.dataset.name,o=await JSON.parse(localStorage.getItem("todolist")),n=await o;return Object.values(n.tasks).forEach((t=>{t.project===e&&(t.project="none")})),delete n.projects[e],localStorage.clear(),localStorage.setItem("todolist",JSON.stringify(n)),0}(d)).then((()=>{a(),s(),w.clearList(),w.createTasks()}))}})),t.querySelector("ol").appendChild(d)}))}async function c(t){const o=await v.getTodolist(),{projects:n}=await o;if(t in await n)return e("Create a project",!0,"the name has been used"),this;if(!1===t||!t.toString().trim())return e("Create a project",!0,"Please enter a name"),this;n[t]=0;const r=o;return r.projects=n,localStorage.clear(),localStorage.setItem("todolist",JSON.stringify(r)),a(),s(),0}return r.querySelector("img").src=j,r.addEventListener("click",(()=>{e("Create a project",!0),n.fn=c})),m.addEventListener("click",(()=>{u.classList.toggle("dp-none"),o.classList.toggle("dp-none"),d.classList.toggle("dp-none"),t.classList.toggle("dp-none"),r.classList.toggle("dp-none"),a(),s()})),{createProjectList:s}})(),C=q;Promise.resolve(v.getTodolist()).then((()=>{w.createTasks(),C.createProjectList()})),document.addEventListener("DOMContentLoaded",(()=>{f.colorBtns()}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YSxJQUFUdUwsSUFBbUJBLEVBQUtDLFdBQVdDLE9BRXJDLE9BREF2SyxFQUFhLG9CQUFvQixFQUFNLHVCQUNoQ2xCLEtBRVR1RixFQUFTZ0csR0FBUSxFQUNqQixNQUFNM0QsRUFBVW5ELEVBTWhCLE9BTEFtRCxFQUFRckMsU0FBV0EsRUFDbkJTLGFBQWE2QixRQUNiN0IsYUFBYUUsUUFBUSxXQUFZSixLQUFLSyxVQUFVeUIsSUFDaEQ0RixJQUNBRSxJQUNPLEVBcUJULE9BbkhBSCxFQUFjL0wsY0FBYyxPQUFPZixJQUFNLEVBaUd6QzhNLEVBQWNoTCxpQkFBaUIsU0FBUyxLQUN0Q3JCLEVBQWEsb0JBQW9CLEdBRWpDLEtBQVdvSyxLQUdicEksRUFBZVgsaUJBQWlCLFNBQVMsS0FFdkNTLEVBQWdCMUIsVUFBVXlDLE9BQU8sV0FDakNkLEVBQWMzQixVQUFVeUMsT0FBTyxXQUMvQmpCLEVBQVd4QixVQUFVeUMsT0FBTyxXQUU1QnVKLEVBQWlCaE0sVUFBVXlDLE9BQU8sV0FDbEN3SixFQUFjak0sVUFBVXlDLE9BQU8sV0FFL0J5SixJQUNBRSxPQUVLLENBQUVBLGtCQUFBQSxJQXhIWSxHQTJIdkIsSUM3SEFoRyxRQUFRQyxRQUFRLGlCQUF1QkksTUFBSyxLQUMxQyxnQkFDQSx5QkFHRnhILFNBQVNnQyxpQkFBaUIsb0JBQW9CLEtBQzVDLGtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kb2xpc3Qvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdG9kb2xpc3Qvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly90b2RvbGlzdC93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL3NyYy9Qb3BVcC5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL3NyYy9VSS5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL3NyYy9TdG9yYWdlLmpzIiwid2VicGFjazovL3RvZG9saXN0Ly4vc3JjL0ZsaXRlci5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL3NyYy9UYXNrTWFuYWdlci5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL3NyYy9Qcm9qZWN0TWFuYWdlci5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL3NyYy9BcHAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjXG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkgc2NyaXB0VXJsID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLnNyY1xuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCJjb25zdCBwb3BVcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9wVXBcIik7XHJcblxyXG5mdW5jdGlvbiBzaG93TXNnUG9wVXAobXNnLCB1c2VJbnB1dCwgZXJyKSB7XHJcbiAgcG9wVXAuY2xhc3NMaXN0LnJlbW92ZShcImRwLW5vbmVcIik7XHJcbiAgcG9wVXAucXVlcnlTZWxlY3RvcihcImxhYmVsXCIpLnRleHRDb250ZW50ID0gbXNnO1xyXG4gIGlmICh1c2VJbnB1dCkge1xyXG4gICAgcG9wVXAucXVlcnlTZWxlY3RvcihcImlucHV0XCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJkcC1ub25lXCIpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBwb3BVcC5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIikuY2xhc3NMaXN0LmFkZChcImRwLW5vbmVcIik7XHJcbiAgfVxyXG4gIGlmIChlcnIpIHtcclxuICAgIGlmIChwb3BVcC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtZXJyXVwiKSkge1xyXG4gICAgICBjb25zdCBjaGlsZE5vZGUgPSBwb3BVcC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtZXJyXVwiKTtcclxuICAgICAgcG9wVXAucXVlcnlTZWxlY3RvcihcIltkYXRhLWZvcm1dXCIpLnJlbW92ZUNoaWxkKGNoaWxkTm9kZSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBoaW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcbiAgICBoaW50LnRleHRDb250ZW50ID0gZXJyO1xyXG4gICAgaGludC5kYXRhc2V0LmVyciA9IHRydWU7XHJcbiAgICBwb3BVcFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIltkYXRhLWZvcm1dXCIpXHJcbiAgICAgIC5pbnNlcnRCZWZvcmUoaGludCwgcG9wVXAucXVlcnlTZWxlY3RvcihcIltkYXRhLWJ1dHRvbnNdXCIpKTtcclxuICB9XHJcbiAgcmV0dXJuIDA7XHJcbn1cclxuXHJcbmNvbnN0IGV2ZW50ID0ge1xyXG4gIHVzZTogXCJmdW5jdGlvblwiLFxyXG4gIGlucHV0OiBcInN0cmluZ1wiLFxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXHJcbiAgICovXHJcbiAgc2V0IGZuKGNhbGxiYWNrKSB7XHJcbiAgICB0aGlzLnVzZSA9IGNhbGxiYWNrO1xyXG4gIH0sXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbFxyXG4gICAqL1xyXG4gIHNldCBpbnB1dFZhbCh2YWwpIHtcclxuICAgIHRoaXMuaW5wdXQgPSB2YWw7XHJcbiAgfSxcclxufTtcclxuXHJcbnBvcFVwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gIGlmIChwb3BVcC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtZXJyXVwiKSkge1xyXG4gICAgY29uc3QgY2hpbGROb2RlID0gcG9wVXAucXVlcnlTZWxlY3RvcihcIltkYXRhLWVycl1cIik7XHJcbiAgICBwb3BVcC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtZm9ybV1cIikucmVtb3ZlQ2hpbGQoY2hpbGROb2RlKTtcclxuICB9XHJcbiAgaWYgKGUudGFyZ2V0Lm1hdGNoZXMoXCIjcG9wVXBcIikgfHwgZS50YXJnZXQubWF0Y2hlcyhcIi53YXJuaW5nXCIpKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBwb3BVcC5jbGFzc0xpc3QuYWRkKFwiZHAtbm9uZVwiKTtcclxuICAgIHBvcFVwLnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKS52YWx1ZSA9IFwiXCI7XHJcbiAgfVxyXG4gIGlmIChlLnRhcmdldC5tYXRjaGVzKFwiLnN1Y2Nlc3NcIikpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGlmIChwb3BVcC5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIikuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZHAtbm9uZVwiKSkge1xyXG4gICAgICBldmVudC51c2UoKTtcclxuICAgICAgcG9wVXAuY2xhc3NMaXN0LmFkZChcImRwLW5vbmVcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBldmVudC5pbnB1dFZhbCA9IHBvcFVwLnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKS52YWx1ZSA/PyBmYWxzZTtcclxuICAgICAgcG9wVXAucXVlcnlTZWxlY3RvcihcImlucHV0XCIpLnZhbHVlID0gXCJcIjtcclxuICAgICAgZXZlbnQudXNlKGV2ZW50LmlucHV0KTtcclxuICAgICAgcG9wVXAuY2xhc3NMaXN0LmFkZChcImRwLW5vbmVcIik7XHJcbiAgICB9XHJcbiAgfVxyXG59KTtcclxuXHJcbmV4cG9ydCB7IHNob3dNc2dQb3BVcCwgZXZlbnQgfTtcclxuIiwiaW1wb3J0IFwiLi9zdHlsZXMvc3R5bGUuY3NzXCI7XHJcbmltcG9ydCBcIi4vc3R5bGVzL2NvbnRhaW5lci5jc3NcIjtcclxuaW1wb3J0IFwiLi9zdHlsZXMvYnV0dG9uLmNzc1wiO1xyXG5pbXBvcnQgXCIuL3N0eWxlcy9kcm9wZG93bi5jc3NcIjtcclxuXHJcbmltcG9ydCBibHVlWFNWRyBmcm9tIFwiLi9pY29ucy94LS1ibHVlLnN2Z1wiO1xyXG5pbXBvcnQgbGlzdFNWRyBmcm9tIFwiLi9pY29ucy9saXN0LnN2Z1wiO1xyXG5pbXBvcnQgcGx1c1NWRyBmcm9tIFwiLi9pY29ucy9wbHVzLnN2Z1wiO1xyXG5pbXBvcnQgY2hlY2tTVkcgZnJvbSBcIi4vaWNvbnMvY2hlY2stY2lyY2xlLnN2Z1wiO1xyXG5pbXBvcnQgdHJhc2hTVkcgZnJvbSBcIi4vaWNvbnMvdHJhc2gtMi5zdmdcIjtcclxuXHJcbmNvbnN0IHRhc2tFZGl0b3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2tFZGl0b3JcIik7XHJcbmNvbnN0IGFkZFRhc2tCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkZFRhc2stYnRuXCIpO1xyXG5jb25zdCB1cGRhdGVUYXNrQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1cGRhdGVUYXNrLWJ0blwiKTtcclxuY29uc3QgZmlsdGVyQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmaWx0ZXJDb250YWluZXJcIik7XHJcbmNvbnN0IGxpc3RDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxpc3RDb250YWluZXJcIik7XHJcbmNvbnN0IHByb2plY3RMaXN0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0TGlzdC1idG5cIik7XHJcbmNvbnN0IGRlbGV0ZVRhc2tCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlbGV0ZVRhc2stYnRuXCIpO1xyXG5cclxuY29uc3QgVUkgPSAoKCkgPT4ge1xyXG4gIGFkZFRhc2tCdG4ucXVlcnlTZWxlY3RvcihcImltZ1wiKS5zcmMgPSBwbHVzU1ZHO1xyXG4gIHByb2plY3RMaXN0QnRuLnF1ZXJ5U2VsZWN0b3IoXCJpbWdcIikuc3JjID0gbGlzdFNWRztcclxuICB1cGRhdGVUYXNrQnRuLnF1ZXJ5U2VsZWN0b3IoXCJpbWdcIikuc3JjID0gY2hlY2tTVkc7XHJcbiAgZGVsZXRlVGFza0J0bi5xdWVyeVNlbGVjdG9yKFwiaW1nXCIpLnNyYyA9IHRyYXNoU1ZHO1xyXG4gIHRhc2tFZGl0b3IucXVlcnlTZWxlY3RvcihcIiNjYW5jZWxFZGl0LWJ0biA+IGltZ1wiKS5zcmMgPSBibHVlWFNWRztcclxuXHJcbiAgZnVuY3Rpb24gc2V0VGFza0VkaXRvclBhZ2UoKSB7XHJcbiAgICAvLyBIaWRlIGhvbWVwYWdlXHJcbiAgICBhZGRUYXNrQnRuLmNsYXNzTGlzdC50b2dnbGUoXCJkcC1ub25lXCIpO1xyXG4gICAgZmlsdGVyQ29udGFpbmVyLmNsYXNzTGlzdC50b2dnbGUoXCJkcC1ub25lXCIpO1xyXG4gICAgbGlzdENvbnRhaW5lci5jbGFzc0xpc3QudG9nZ2xlKFwiZHAtbm9uZVwiKTtcclxuICAgIHByb2plY3RMaXN0QnRuLmNsYXNzTGlzdC50b2dnbGUoXCJkcC1ub25lXCIpO1xyXG4gICAgLy8gU2hvZSB0YXNrIGVkaXRvciBwYWdlXHJcbiAgICB1cGRhdGVUYXNrQnRuLmNsYXNzTGlzdC50b2dnbGUoXCJkcC1ub25lXCIpO1xyXG4gICAgZGVsZXRlVGFza0J0bi5jbGFzc0xpc3QudG9nZ2xlKFwiZHAtbm9uZVwiKTtcclxuICAgIHRhc2tFZGl0b3IuY2xhc3NMaXN0LnRvZ2dsZShcImRwLW5vbmVcIik7XHJcbiAgICByZXR1cm4gMDtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldEZvcm1FbGVtZW50KCkge1xyXG4gICAgY29uc3QgZm9ybUVsZW1lbnQgPSB7XHJcbiAgICAgIHByaW9yaXR5RWw6IHRhc2tFZGl0b3IucXVlcnlTZWxlY3RvcihcIltkYXRhLWRyb3Bkb3duLXByaW9yaXR5XVwiKSxcclxuICAgICAgZHVlRGF0ZUVsOiB0YXNrRWRpdG9yLnF1ZXJ5U2VsZWN0b3IoXCIjZHVlRGF0ZUlucHV0XCIpLFxyXG4gICAgICBwcm9qZWN0RWw6IHRhc2tFZGl0b3IucXVlcnlTZWxlY3RvcihcIltkYXRhLWRyb3Bkb3duLXByb2plY3RdXCIpLFxyXG4gICAgICB0aXRsZUVsOiB0YXNrRWRpdG9yLnF1ZXJ5U2VsZWN0b3IoXCIjdG9kb0lucHV0XCIpLFxyXG4gICAgICBkZXNjcmlwdGlvbkVsOiB0YXNrRWRpdG9yLnF1ZXJ5U2VsZWN0b3IoXCIjZGVzY3JpcHRpb25JbnB1dFwiKSxcclxuICAgICAgY29tcGxldGVkRWw6IHRhc2tFZGl0b3IucXVlcnlTZWxlY3RvcihcIiNtYXJrQ29tcGxldGVkLWJ0blwiKSxcclxuICAgIH07XHJcbiAgICByZXR1cm4gZm9ybUVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjb2xvckJ0bnMoKSB7XHJcbiAgICBjb25zdCBidG5Db250YWluZXJzID0gdGFza0VkaXRvci5xdWVyeVNlbGVjdG9yQWxsKFwiLmRyb3Bkb3duW2RhdGEtY29sb3JdXCIpO1xyXG4gICAgY29uc3QgY29sb3JOYW1lID0gdGFza0VkaXRvci5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIiNwcmlvcml0eU1lbnUgPiBidXR0b25cIlxyXG4gICAgKS50ZXh0Q29udGVudDtcclxuICAgIGJ0bkNvbnRhaW5lcnMuZm9yRWFjaCgoY29udGFpbmVyKSA9PiB7XHJcbiAgICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNvbG9yXCIsIGNvbG9yTmFtZSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHRhc2tFZGl0b3IuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICB0YXNrRWRpdG9yLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZHJvcGRvd25cIikuZm9yRWFjaCgoZHJvcGRvd24pID0+IHtcclxuICAgICAgZHJvcGRvd24uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGlmIChlLnRhcmdldC5tYXRjaGVzKFwiW2RhdGEtZHJvcGRvd24tcHJpb3JpdHldXCIpKSB7XHJcbiAgICAgIGUudGFyZ2V0LmNsb3Nlc3QoXCIjcHJpb3JpdHlNZW51XCIpLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIik7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmIChlLnRhcmdldC5tYXRjaGVzKFwiW2RhdGEtcHJpb3JpdHktbGlua11cIikpIHtcclxuICAgICAgY29uc3QgcHJpb3JpdHlCdG4gPSBlLnRhcmdldFxyXG4gICAgICAgIC5jbG9zZXN0KFwiI3ByaW9yaXR5TWVudVwiKVxyXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtZHJvcGRvd24tcHJpb3JpdHldXCIpO1xyXG4gICAgICBwcmlvcml0eUJ0bi50ZXh0Q29udGVudCA9IGUudGFyZ2V0LnRleHRDb250ZW50O1xyXG4gICAgICBjb2xvckJ0bnMoKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZS50YXJnZXQubWF0Y2hlcyhcIltkYXRhLWRyb3Bkb3duLXByb2plY3RdXCIpKSB7XHJcbiAgICAgIGUudGFyZ2V0LmNsb3Nlc3QoXCIjcHJvamVjdE1lbnVcIikuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKGUudGFyZ2V0Lm1hdGNoZXMoXCJbZGF0YS1wcm9qZWN0LWxpbmtdXCIpKSB7XHJcbiAgICAgIGUudGFyZ2V0XHJcbiAgICAgICAgLmNsb3Nlc3QoXCIjcHJvamVjdE1lbnVcIilcclxuICAgICAgICAucXVlcnlTZWxlY3RvcihcIltkYXRhLWRyb3Bkb3duLXByb2plY3RdXCIpLnRleHRDb250ZW50ID1cclxuICAgICAgICBlLnRhcmdldC50ZXh0Q29udGVudDtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgdGFza0VkaXRvci5xdWVyeVNlbGVjdG9yKFwiI2NhbmNlbEVkaXQtYnRuXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAvLyBTaG93IGhvbWVwYWdlXHJcbiAgICBwcm9qZWN0TGlzdEJ0bi5jbGFzc0xpc3QudG9nZ2xlKFwiZHAtbm9uZVwiKTtcclxuICAgIGZpbHRlckNvbnRhaW5lci5jbGFzc0xpc3QudG9nZ2xlKFwiZHAtbm9uZVwiKTtcclxuICAgIGxpc3RDb250YWluZXIuY2xhc3NMaXN0LnRvZ2dsZShcImRwLW5vbmVcIik7XHJcbiAgICAvLyBIaWRlIGJ1dHRvbnMgZm9yIHRhc2sgZWRpdG9yXHJcbiAgICB0YXNrRWRpdG9yLmNsYXNzTGlzdC50b2dnbGUoXCJkcC1ub25lXCIpO1xyXG4gICAgYWRkVGFza0J0bi5jbGFzc0xpc3QudG9nZ2xlKFwiZHAtbm9uZVwiKTtcclxuICAgIHVwZGF0ZVRhc2tCdG4uY2xhc3NMaXN0LnRvZ2dsZShcImRwLW5vbmVcIik7XHJcbiAgICBkZWxldGVUYXNrQnRuLmNsYXNzTGlzdC5hZGQoXCJkcC1ub25lXCIpO1xyXG4gIH0pO1xyXG5cclxuICB0YXNrRWRpdG9yXHJcbiAgICAucXVlcnlTZWxlY3RvcihcIiNtYXJrQ29tcGxldGVkLWJ0blwiKVxyXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgICBlLnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKFwibWFya1wiKTtcclxuICAgICAgZS50YXJnZXQudGV4dENvbnRlbnQgPSBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtYXJrXCIpXHJcbiAgICAgICAgPyBcIkNvbXBsZXRlZFwiXHJcbiAgICAgICAgOiBcIk1hcmsgQ29tcGxldGVkXCI7XHJcbiAgICB9KTtcclxuICByZXR1cm4geyBzZXRUYXNrRWRpdG9yUGFnZSwgZ2V0Rm9ybUVsZW1lbnQsIGNvbG9yQnRucyB9O1xyXG59KSgpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgVUk7XHJcblxyXG5leHBvcnQge1xyXG4gIHRhc2tFZGl0b3IsXHJcbiAgYWRkVGFza0J0bixcclxuICB1cGRhdGVUYXNrQnRuLFxyXG4gIGZpbHRlckNvbnRhaW5lcixcclxuICBsaXN0Q29udGFpbmVyLFxyXG4gIHByb2plY3RMaXN0QnRuLFxyXG4gIGRlbGV0ZVRhc2tCdG4sXHJcbn07XHJcbiIsImNvbnN0IFN0b3JhZ2UgPSAoKCkgPT4ge1xyXG4gIC8vIFVzaW5nIGluIGNyZWF0aW5nIHRhc2tzIGF0IGZpcnN0IHRpbWUgZW50ZXJpbmcgdGhlIGFwcFxyXG4gIGNvbnN0IGluaXRUYXNrID0ge1xyXG4gICAgcHJpb3JpdHk6IFwiTWVkaXVtXCIsXHJcbiAgICBkdWVEYXRlOiBuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZyhcImVuLVVTXCIsIHtcclxuICAgICAgeWVhcjogXCJudW1lcmljXCIsXHJcbiAgICAgIG1vbnRoOiBcInNob3J0XCIsXHJcbiAgICAgIGRheTogXCJudW1lcmljXCIsXHJcbiAgICB9KSxcclxuICAgIHByb2plY3Q6IFwibXlQcm9qZWN0XCIsXHJcbiAgICB0aXRsZTogXCJXaGF0IHlvdSBnb25uYSBtYWtlIHRvZGF5XCIsXHJcbiAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgXCJXcml0ZSBpdCBkb3duLCBhbmQgbWF5YmUgaGF2ZSBzb21lIGRlc2NyaXB0aW9uIHRvIGl0LiBBbHNvLCB5b3UgY2FuIGFkZCBzaG9ydCBub3Rlcywgb3IgY2hlY2tib3ggdG8gbWFrZSB0aGluZ3MgY2xlYXJlciDwn5iBXCIsXHJcbiAgICBjb21wbGV0ZWQ6IGZhbHNlLFxyXG4gIH07XHJcblxyXG4gIC8vIENyZWF0ZSBhIGNvbnRhaW5lciBmb3IgYWxsIHRhc2tzXHJcbiAgY29uc3QgdG9kb2xpc3QgPSB7XHJcbiAgICB0YXNrczoge1xyXG4gICAgICBpbml0OiBpbml0VGFzayxcclxuICAgIH0sXHJcbiAgICBwcm9qZWN0czoge1xyXG4gICAgICBteVByb2plY3Q6IDAsXHJcbiAgICB9LFxyXG4gICAgcHJlZmVyZW5jZToge1xyXG4gICAgICBwcm9qZWN0RmlsdGVyOiBcIlwiLFxyXG4gICAgICBkaXNwbGF5RmlsdGVyOiBcIkFsbFwiLFxyXG4gICAgfSxcclxuICB9O1xyXG5cclxuICBhc3luYyBmdW5jdGlvbiBnZXRUb2RvbGlzdCgpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGxpc3QgPSBhd2FpdCBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidG9kb2xpc3RcIikpO1xyXG4gICAgICBpZiAoIShhd2FpdCBsaXN0KSkge1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidG9kb2xpc3RcIiwgSlNPTi5zdHJpbmdpZnkodG9kb2xpc3QpKTtcclxuICAgICAgICBnZXRUb2RvbGlzdCgpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBsaXN0O1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInRvZG9saXN0IGlzbid0IGV4aXRcIik7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiB7IGdldFRvZG9saXN0IH07XHJcbn0pKCk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTdG9yYWdlO1xyXG5cclxuLy8gVXNpbmcgaW4gY3JlYXRpbmcgYSBuZXcgdGFza1xyXG5mdW5jdGlvbiBoYXNoKHRhc2spIHtcclxuICBsZXQgaGFzaFZhbHVlID0gMDtcclxuICBjb25zdCBjb2RlQXJyID0gT2JqZWN0LnZhbHVlcyh0YXNrKVxyXG4gICAgLnRvU3RyaW5nKClcclxuICAgIC5zcGxpdChcIlwiKVxyXG4gICAgLm1hcCgoYykgPT4gYy5jaGFyQ29kZUF0KDApKTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGNvZGVBcnIubGVuZ3RoOyBpICs9IDEpIHtcclxuICAgIGhhc2hWYWx1ZSArPSBwYXJzZUludChjb2RlQXJyW2ldLCAxNikgKiAoaSArIDEpO1xyXG4gIH1cclxuICBjb25zdCBpZFZhbHVlID0gYGlkJHtoYXNoVmFsdWUudG9TdHJpbmcoKX1gO1xyXG4gIHJldHVybiBpZFZhbHVlO1xyXG59XHJcblxyXG5jb25zdCBkYXRlTWFrZXIgPSAoZGF0ZSkgPT4ge1xyXG4gIGNvbnN0IGZvcm1hdHRlZERhdGUgPSBuZXcgRGF0ZShkYXRlKTtcclxuICBjb25zdCBbbW9udGgsIGRheSwgeWVhcl0gPSBbXHJcbiAgICBmb3JtYXR0ZWREYXRlLmdldE1vbnRoKCksXHJcbiAgICBmb3JtYXR0ZWREYXRlLmdldERhdGUoKSxcclxuICAgIGZvcm1hdHRlZERhdGUuZ2V0RnVsbFllYXIoKSxcclxuICBdO1xyXG4gIGNvbnN0IGlucHV0VHlwZURhdGUgPSBgJHt5ZWFyfS0ke1xyXG4gICAgbW9udGggKyAxIDwgMTAgPyBcIjBcIi5jb25jYXQobW9udGggKyAxKSA6IG1vbnRoXHJcbiAgfS0ke2RheSA8IDEwID8gXCIwXCIuY29uY2F0KGRheSkgOiBkYXl9YDtcclxuICByZXR1cm4gaW5wdXRUeXBlRGF0ZTtcclxufTtcclxuXHJcbmV4cG9ydCB7IGhhc2gsIGRhdGVNYWtlciB9O1xyXG4iLCJpbXBvcnQgeyBmaWx0ZXJDb250YWluZXIsIGxpc3RDb250YWluZXIgfSBmcm9tIFwiLi9VSVwiO1xyXG5pbXBvcnQgU3RvcmFnZSBmcm9tIFwiLi9TdG9yYWdlXCI7XHJcblxyXG5jb25zdCBGaWx0ZXIgPSAoKCkgPT4ge1xyXG4gIGZ1bmN0aW9uIGZpbHRlclByb2plY3QoZXZlbnQpIHtcclxuICAgIGNvbnN0IGlucHV0VmFsdWUgPSBldmVudC50YXJnZXQudmFsdWUudG9VcHBlckNhc2UoKTtcclxuICAgIGNvbnN0IGtleXdvcmRzID0gaW5wdXRWYWx1ZS5zcGxpdChcIlwiKTtcclxuICAgIGxpc3RDb250YWluZXIucXVlcnlTZWxlY3RvckFsbChcIi50YXNrLWNvbnRhaW5lclwiKS5mb3JFYWNoKCh0YXNrKSA9PiB7XHJcbiAgICAgIHRhc2suY2xhc3NMaXN0LnJlbW92ZShcImRwLW5vbmVcIik7XHJcbiAgICAgIGNvbnN0IHByb2plY3ROYW1lID0gdGFzay5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgIFwiLnRhZy1jb250YWluZXIgPiAucHJvamVjdFwiXHJcbiAgICAgICkudGV4dENvbnRlbnQ7XHJcbiAgICAgIGNvbnN0IGNvbXBhcmlzb24gPSBwcm9qZWN0TmFtZS50b1VwcGVyQ2FzZSgpLnNwbGl0KFwiXCIpO1xyXG4gICAgICBpZiAoIWlucHV0VmFsdWUpIHJldHVybiAxO1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXdvcmRzLmxlbmd0aDsgaSArPSAxKSB7XHJcbiAgICAgICAgaWYgKGNvbXBhcmlzb25baV0gIT09IGtleXdvcmRzW2ldKSB7XHJcbiAgICAgICAgICB0YXNrLmNsYXNzTGlzdC5hZGQoXCJkcC1ub25lXCIpO1xyXG4gICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiAwO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBnZXRGaWx0ZXJTZXR0aW5nKCkge1xyXG4gICAgY29uc3QgdG9kb2xpc3QgPSBhd2FpdCBTdG9yYWdlLmdldFRvZG9saXN0KCk7XHJcbiAgICBjb25zdCBmaWx0ZXJTZXR0aW5nID0gYXdhaXQgdG9kb2xpc3QucHJlZmVyZW5jZS5kaXNwbGF5RmlsdGVyO1xyXG4gICAgZmlsdGVyQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIjZGlzcGxheUZpbHRlciA+IGJ1dHRvblwiKS50ZXh0Q29udGVudCA9XHJcbiAgICAgIGZpbHRlclNldHRpbmc7XHJcbiAgICByZXR1cm4gZmlsdGVyU2V0dGluZztcclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIHNldEZpbHRlcigpIHtcclxuICAgIGNvbnN0IHRvZG9saXN0ID0gYXdhaXQgU3RvcmFnZS5nZXRUb2RvbGlzdCgpO1xyXG4gICAgY29uc3QgbmV3TGlzdCA9IGF3YWl0IHRvZG9saXN0O1xyXG4gICAgbmV3TGlzdC5wcmVmZXJlbmNlLmRpc3BsYXlGaWx0ZXIgPSBmaWx0ZXJDb250YWluZXIucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIjZGlzcGxheUZpbHRlciA+IGJ1dHRvblwiXHJcbiAgICApLnRleHRDb250ZW50O1xyXG4gICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInRvZG9saXN0XCIsIEpTT04uc3RyaW5naWZ5KG5ld0xpc3QpKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGZpbHRlclRhc2tzKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZmlsdGVyVmFsdWUgPSBhd2FpdCBnZXRGaWx0ZXJTZXR0aW5nKCk7XHJcbiAgICAgIGNvbnN0IHRhc2tDb250YWluZXJzID0gbGlzdENvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKFwiLnRhc2stY29udGFpbmVyXCIpO1xyXG4gICAgICB0YXNrQ29udGFpbmVycy5mb3JFYWNoKCh0YXNrKSA9PiB7XHJcbiAgICAgICAgdGFzay5jbGFzc0xpc3QucmVtb3ZlKFwiZHAtbm9uZVwiKTtcclxuICAgICAgICBjb25zdCB0YXNrU3RhdHVzID1cclxuICAgICAgICAgIHRhc2suZ2V0QXR0cmlidXRlKFwiZGF0YS1zdGF0dXNcIikgPT09IFwidHJ1ZVwiXHJcbiAgICAgICAgICAgID8gXCJDb21wbGV0ZWRcIlxyXG4gICAgICAgICAgICA6IFwiVW5jb21wbGV0ZWRcIjtcclxuICAgICAgICBpZiAodGFza1N0YXR1cyAhPT0gZmlsdGVyVmFsdWUgJiYgZmlsdGVyVmFsdWUgIT09IFwiQWxsXCIpIHtcclxuICAgICAgICAgIHRhc2suY2xhc3NMaXN0LmFkZChcImRwLW5vbmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGJ1YmJsZVNvcnQoYXJyKSB7XHJcbiAgICBjb25zdCBzb3J0ZWRBcnIgPSBhcnI7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNvcnRlZEFyci5sZW5ndGggLSAxOyBpICs9IDEpIHtcclxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzb3J0ZWRBcnIubGVuZ3RoIC0gMSAtIGk7IGogKz0gMSkge1xyXG4gICAgICAgIC8vIFtpZCwgZGF0ZSwgcHJpb3JpdHksIG5hbWVdXHJcbiAgICAgICAgLy8gZWFybGllciBkYXRlIGZyaXN0XHJcbiAgICAgICAgY29uc3QgZGF0ZTEgPSBOdW1iZXIucGFyc2VJbnQoc29ydGVkQXJyW2pdWzFdLCAxNik7XHJcbiAgICAgICAgY29uc3QgZGF0ZTIgPSBOdW1iZXIucGFyc2VJbnQoc29ydGVkQXJyW2ogKyAxXVsxXSwgMTYpO1xyXG4gICAgICAgIGNvbnN0IGxhdGVyRGF0ZSA9IGRhdGUxID4gZGF0ZTI7XHJcbiAgICAgICAgY29uc3Qgc2FtZURhdGUgPSBkYXRlMSA9PT0gZGF0ZTI7XHJcbiAgICAgICAgLy8gdGhlbiB3aGljaCBoYXMgaGlnaGVyIHByaW9yaXR5XHJcbiAgICAgICAgY29uc3QgaGlnaGVyUHJpb3JpdHkgPSBzb3J0ZWRBcnJbal1bMl0gPCBzb3J0ZWRBcnJbaiArIDFdWzJdO1xyXG4gICAgICAgIGNvbnN0IHNhbWVQcmlvcml0eSA9IHNvcnRlZEFycltqXVsyXSA9PT0gc29ydGVkQXJyW2ogKyAxXVsyXTtcclxuICAgICAgICAvLyBvdGhlcndpc2UsIGJ5IHRoZSBvcmRlciBvZiBBLVpcclxuICAgICAgICBsZXQgcHJpb3JOYW1lSW5kZXggPSBmYWxzZTtcclxuICAgICAgICBjb25zdCBuYW1lQXJyMSA9IHNvcnRlZEFycltqXVszXTtcclxuICAgICAgICBjb25zdCBuYW1lQXJyMiA9IHNvcnRlZEFycltqICsgMV1bM107XHJcbiAgICAgICAgY29uc3QgbGV0dGVyTGVuZ3RoID1cclxuICAgICAgICAgIG5hbWVBcnIxLmxlbmd0aCA8IG5hbWVBcnIyLmxlbmd0aCA/IG5hbWVBcnIxLmxlbmd0aCA6IG5hbWVBcnIyLmxlbmd0aDtcclxuICAgICAgICBjb25zdCBzYW1lU3RyaW5nID0gbmFtZUFycjEuam9pbigpID09PSBuYW1lQXJyMi5qb2luKCk7XHJcbiAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBsZXR0ZXJMZW5ndGg7IGsgKz0gMSkge1xyXG4gICAgICAgICAgaWYgKG5hbWVBcnIxW2tdIDwgbmFtZUFycjJba10pIHtcclxuICAgICAgICAgICAgcHJpb3JOYW1lSW5kZXggPSB0cnVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBmaW5hbGx5LCBiYXNlIG9uIHdoZXRoZXIgdGFza3MgYXJlIGNvbXBsZXRlZFxyXG4gICAgICAgIGNvbnN0IHVuY29tcGxldGVkID0gc29ydGVkQXJyW2pdWzRdIDwgc29ydGVkQXJyW2ogKyAxXVs0XTtcclxuICAgICAgICBjb25zdCBzYW1lU3RhdHVzID0gc29ydGVkQXJyW2pdWzRdID09PSBzb3J0ZWRBcnJbaiArIDFdWzRdO1xyXG4gICAgICAgIC8vIGNvbXBhcmlzb25cclxuICAgICAgICBsZXQgc2hvdWxkU3dhcCA9IGZhbHNlO1xyXG4gICAgICAgIGlmICghc2FtZURhdGUpIHtcclxuICAgICAgICAgIHNob3VsZFN3YXAgPSBsYXRlckRhdGU7XHJcbiAgICAgICAgfSBlbHNlIGlmICghc2FtZVByaW9yaXR5KSB7XHJcbiAgICAgICAgICBzaG91bGRTd2FwID0gaGlnaGVyUHJpb3JpdHk7XHJcbiAgICAgICAgfSBlbHNlIGlmICghc2FtZVN0cmluZykge1xyXG4gICAgICAgICAgc2hvdWxkU3dhcCA9IHByaW9yTmFtZUluZGV4O1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIXNhbWVTdGF0dXMpIHtcclxuICAgICAgICAgIHNob3VsZFN3YXAgPSB1bmNvbXBsZXRlZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNob3VsZFN3YXApIHtcclxuICAgICAgICAgIGNvbnN0IHRlbXAgPSBzb3J0ZWRBcnJbal07XHJcbiAgICAgICAgICBzb3J0ZWRBcnJbal0gPSBzb3J0ZWRBcnJbaiArIDFdO1xyXG4gICAgICAgICAgc29ydGVkQXJyW2ogKyAxXSA9IHRlbXA7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc29ydGVkQXJyO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gc29ydFRhc2tzKCkge1xyXG4gICAgY29uc3QgdGFza0NvbnRhaW5lcnMgPSBsaXN0Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGFzay1jb250YWluZXJcIik7XHJcbiAgICBjb25zdCB0YXNrQXJyID0gW107XHJcbiAgICBBcnJheS5mcm9tKHRhc2tDb250YWluZXJzKS5mb3JFYWNoKCh0YXNrKSA9PiB7XHJcbiAgICAgIGNvbnN0IGlkID0gdGFzay5nZXRBdHRyaWJ1dGUoXCJkYXRhLW5hbWVcIik7XHJcbiAgICAgIC8vIHAxIGZhY3RvciBpbiBjb21wYXJpc29uXHJcbiAgICAgIGNvbnN0IGR1ZURhdGUgPSB0YXNrLnF1ZXJ5U2VsZWN0b3IoXCIuZHVlLWRhdGVcIikudGV4dENvbnRlbnQ7XHJcbiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkdWVEYXRlKTtcclxuICAgICAgY29uc3QgbXNjID0gZGF0ZS5nZXRUaW1lKCk7XHJcbiAgICAgIC8vIHAyIGZhY3RvciBpbiBjb21wYXJpc29uXHJcbiAgICAgIGNvbnN0IHByaW9yaXR5ID0gdGFzay5xdWVyeVNlbGVjdG9yKFwiLnByaW9yaXR5XCIpLnRleHRDb250ZW50O1xyXG4gICAgICBjb25zdCBwcmlvcml0eVNjb3JlID0ge1xyXG4gICAgICAgIG5vbmU6IDAsXHJcbiAgICAgICAgTG93OiAxLFxyXG4gICAgICAgIE1lZGl1bTogMixcclxuICAgICAgICBIaWdoOiAzLFxyXG4gICAgICB9O1xyXG4gICAgICAvLyBwMyBmYWN0b3IgaW4gY29tcGFyaXNvblxyXG4gICAgICBjb25zdCBwcm9qZWN0ID0gdGFzay5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3RcIikudGV4dENvbnRlbnQ7XHJcbiAgICAgIC8vIHNvcnRlZCBpbiBvcmRlciBmcm9tIEEtWlxyXG4gICAgICBjb25zdCBwcm9qZWN0Q29kZUFyciA9XHJcbiAgICAgICAgcHJvamVjdCAhPT0gXCJub25lXCJcclxuICAgICAgICAgID8gcHJvamVjdFxyXG4gICAgICAgICAgICAgIC50b1VwcGVyQ2FzZSgpXHJcbiAgICAgICAgICAgICAgLnNwbGl0KFwiXCIpXHJcbiAgICAgICAgICAgICAgLm1hcCgoeCkgPT4geC5jaGFyQ29kZUF0KCkgKiAtMSlcclxuICAgICAgICAgIDogWy05MV07XHJcbiAgICAgIC8vIHA0IGZhY3RvciBpbiBjb21wYXJpc29uXHJcbiAgICAgIGNvbnN0IHN0YXR1cyA9IHRhc2suZ2V0QXR0cmlidXRlKFwiZGF0YS1zdGF0dXNcIik7XHJcbiAgICAgIGNvbnN0IHN0YXR1c1Njb3JlID0gc3RhdHVzID09PSBcInRydWVcIiA/IC0xIDogMTtcclxuICAgICAgLy8gVXNpbmcgaW4gY29tcGFyaXNvblxyXG4gICAgICBjb25zdCBlbCA9IFtcclxuICAgICAgICBpZCxcclxuICAgICAgICBtc2MsXHJcbiAgICAgICAgcHJpb3JpdHlTY29yZVtwcmlvcml0eV0sXHJcbiAgICAgICAgcHJvamVjdENvZGVBcnIsXHJcbiAgICAgICAgc3RhdHVzU2NvcmUsXHJcbiAgICAgIF07XHJcbiAgICAgIHRhc2tBcnIucHVzaChlbCk7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHNvcnRlZEFyciA9IGF3YWl0IGJ1YmJsZVNvcnQodGFza0Fycik7XHJcbiAgICBzb3J0ZWRBcnIuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICBjb25zdCBbaWRdID0gaXRlbTtcclxuICAgICAgY29uc3QgdGFza05vZGUgPSBsaXN0Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLW5hbWU9XCIke2lkfVwiXWApO1xyXG4gICAgICBjb25zdCBjb3B5ID0gdGFza05vZGU7XHJcbiAgICAgIGxpc3RDb250YWluZXIucmVtb3ZlQ2hpbGQodGFza05vZGUpO1xyXG4gICAgICBsaXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKGNvcHkpO1xyXG4gICAgICByZXR1cm4gMDtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZmlsdGVyQ29udGFpbmVyXHJcbiAgICAucXVlcnlTZWxlY3RvcihcIiNwcm9qZWN0RmlsdGVySW5wdXRcIilcclxuICAgIC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGUpID0+IGZpbHRlclByb2plY3QoZSkpO1xyXG5cclxuICBmaWx0ZXJDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICBpZiAoZS50YXJnZXQubWF0Y2hlcyhcIltkYXRhLWRyb3Bkb3duLWRpc3BsYXldXCIpKSB7XHJcbiAgICAgIGUudGFyZ2V0LmNsb3Nlc3QoXCIjZGlzcGxheUZpbHRlclwiKS5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoZS50YXJnZXQubWF0Y2hlcyhcIltkYXRhLWRpc3BsYXktbGlua11cIikpIHtcclxuICAgICAgZS50YXJnZXRcclxuICAgICAgICAuY2xvc2VzdChcIiNkaXNwbGF5RmlsdGVyXCIpXHJcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1kcm9wZG93bi1kaXNwbGF5XVwiKS50ZXh0Q29udGVudCA9XHJcbiAgICAgICAgZS50YXJnZXQudGV4dENvbnRlbnQ7XHJcbiAgICAgIFByb21pc2UucmVzb2x2ZShzZXRGaWx0ZXIoKSkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgZmlsdGVyVGFza3MoKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBmaWx0ZXJDb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5kcm9wZG93blwiKS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gIH0pO1xyXG4gIHJldHVybiB7IGZpbHRlclRhc2tzLCBzb3J0VGFza3MgfTtcclxufSkoKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZpbHRlcjtcclxuIiwiaW1wb3J0IHsgc2hvd01zZ1BvcFVwLCBldmVudCB9IGZyb20gXCIuL1BvcFVwXCI7XHJcbmltcG9ydCBVSSwge1xyXG4gIHRhc2tFZGl0b3IsXHJcbiAgYWRkVGFza0J0bixcclxuICB1cGRhdGVUYXNrQnRuLFxyXG4gIGZpbHRlckNvbnRhaW5lcixcclxuICBwcm9qZWN0TGlzdEJ0bixcclxuICBkZWxldGVUYXNrQnRuLFxyXG4gIGxpc3RDb250YWluZXIsXHJcbn0gZnJvbSBcIi4vVUlcIjtcclxuaW1wb3J0IFN0b3JhZ2UsIHsgaGFzaCwgZGF0ZU1ha2VyIH0gZnJvbSBcIi4vU3RvcmFnZVwiO1xyXG5pbXBvcnQgRmlsdGVyIGZyb20gXCIuL0ZsaXRlclwiO1xyXG5cclxuY29uc3QgVGFza01hbmFnZXIgPSAoKCkgPT4ge1xyXG4gIGFzeW5jIGZ1bmN0aW9uIHNldFByb2plY3RMaXN0KCkge1xyXG4gICAgY29uc3QgcHJvamVjdERvcGRvd24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIiNwcm9qZWN0TWVudSA+IC5kcm9wZG93bi1tZW51XCJcclxuICAgICk7XHJcbiAgICBjb25zdCB0b2RvbGlzdCA9IGF3YWl0IFN0b3JhZ2UuZ2V0VG9kb2xpc3QoKTtcclxuICAgIHdoaWxlIChwcm9qZWN0RG9wZG93bi5jaGlsZHJlblswXSkge1xyXG4gICAgICBwcm9qZWN0RG9wZG93bi5yZW1vdmVDaGlsZChwcm9qZWN0RG9wZG93bi5jaGlsZHJlblswXSk7XHJcbiAgICB9XHJcbiAgICBPYmplY3Qua2V5cyh0b2RvbGlzdC5wcm9qZWN0cykuZm9yRWFjaCgocHJvamVjdE5hbWUpID0+IHtcclxuICAgICAgY29uc3QgZHJvcGRvd25JdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcbiAgICAgIGRyb3Bkb3duSXRlbS5jbGFzc0xpc3QuYWRkKFwiZHJvcGRvd24tbGlua1wiKTtcclxuICAgICAgZHJvcGRvd25JdGVtLmRhdGFzZXQucHJvamVjdExpbmsgPSBwcm9qZWN0TmFtZTtcclxuICAgICAgZHJvcGRvd25JdGVtLnRleHRDb250ZW50ID0gcHJvamVjdE5hbWU7XHJcbiAgICAgIHByb2plY3REb3Bkb3duLmFwcGVuZENoaWxkKGRyb3Bkb3duSXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGFkZFByb2plY3QobmFtZSkge1xyXG4gICAgY29uc3QgdG9kb2xpc3QgPSBhd2FpdCBTdG9yYWdlLmdldFRvZG9saXN0KCk7XHJcbiAgICBjb25zdCB7IHByb2plY3RzIH0gPSBhd2FpdCB0b2RvbGlzdDtcclxuICAgIGlmIChuYW1lIGluIChhd2FpdCBwcm9qZWN0cykpIHtcclxuICAgICAgc2hvd01zZ1BvcFVwKFwiQ3JlYXRlIGEgcHJvamVjdFwiLCB0cnVlLCBcInRoZSBuYW1lIGhhcyBiZWVuIHVzZWRcIik7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgaWYgKG5hbWUgPT09IGZhbHNlIHx8ICFuYW1lLnRvU3RyaW5nKCkudHJpbSgpKSB7XHJcbiAgICAgIHNob3dNc2dQb3BVcChcIkNyZWF0ZSBhIHByb2plY3RcIiwgdHJ1ZSwgXCJQbGVhc2UgZW50ZXIgYSBuYW1lXCIpO1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIHByb2plY3RzW25hbWVdID0gMDtcclxuICAgIGNvbnN0IG5ld0xpc3QgPSB0b2RvbGlzdDtcclxuICAgIG5ld0xpc3QucHJvamVjdHMgPSBwcm9qZWN0cztcclxuICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpO1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ0b2RvbGlzdFwiLCBKU09OLnN0cmluZ2lmeShuZXdMaXN0KSk7XHJcbiAgICBzZXRQcm9qZWN0TGlzdCgpO1xyXG4gICAgcmV0dXJuIDA7XHJcbiAgfVxyXG5cclxuICAvLyBBY3Rpb24gb2YgdGhlIGFkZCBwcm9qZWN0IGJ1dHRvbiBpbiB0aGUgdGFzayBlZGl0b3JcclxuICBkb2N1bWVudFxyXG4gICAgLnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdE1lbnUgKyBidXR0b25cIilcclxuICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBzaG93TXNnUG9wVXAoXCJDcmVhdGUgYSBwcm9qZWN0XCIsIHRydWUpO1xyXG4gICAgICAvLyBzZXR0ZXJcclxuICAgICAgZXZlbnQuZm4gPSBhZGRQcm9qZWN0O1xyXG4gICAgfSk7XHJcblxyXG4gIGZ1bmN0aW9uIHJlYWRUYXNrKGlkLCBjb250ZW50KSB7XHJcbiAgICBVSS5zZXRUYXNrRWRpdG9yUGFnZSgpO1xyXG4gICAgc2V0UHJvamVjdExpc3QoKTtcclxuICAgIGNvbnN0IHtcclxuICAgICAgcHJpb3JpdHlFbCxcclxuICAgICAgZHVlRGF0ZUVsLFxyXG4gICAgICBwcm9qZWN0RWwsXHJcbiAgICAgIHRpdGxlRWwsXHJcbiAgICAgIGRlc2NyaXB0aW9uRWwsXHJcbiAgICAgIGNvbXBsZXRlZEVsLFxyXG4gICAgfSA9IFVJLmdldEZvcm1FbGVtZW50KCk7XHJcbiAgICBjb25zdCB7IHByaW9yaXR5LCBkdWVEYXRlLCBwcm9qZWN0LCB0aXRsZSwgZGVzY3JpcHRpb24sIGNvbXBsZXRlZCB9ID1cclxuICAgICAgY29udGVudDtcclxuICAgIC8vIERpc3BsYXkgdGhlIGNvbnRlbnQgb2YgdGhlIHRhc2tcclxuICAgIC8vIHByaW9yaXR5XHJcbiAgICBwcmlvcml0eUVsLnRleHRDb250ZW50ID0gcHJpb3JpdHk7XHJcbiAgICAvLyBkdWVEYXRlXHJcbiAgICBkdWVEYXRlRWwudmFsdWUgPSBkYXRlTWFrZXIoZHVlRGF0ZSk7XHJcbiAgICAvLyBwcm9qZWN0XHJcbiAgICBwcm9qZWN0RWwudGV4dENvbnRlbnQgPSBwcm9qZWN0O1xyXG4gICAgLy8gdGl0bGVcclxuICAgIHRpdGxlRWwudmFsdWUgPSB0aXRsZTtcclxuICAgIHRpdGxlRWwuZGF0YXNldC5uYW1lID0gaWQ7XHJcbiAgICAvLyBkZXNjcmlwdGlvblxyXG4gICAgZGVzY3JpcHRpb25FbC52YWx1ZSA9IGRlc2NyaXB0aW9uO1xyXG4gICAgLy8gc3RhdHVzXHJcbiAgICBpZiAoY29tcGxldGVkID09PSB0cnVlKSB7XHJcbiAgICAgIGNvbXBsZXRlZEVsLnRleHRDb250ZW50ID0gXCJDb21wbGV0ZWRcIjtcclxuICAgICAgY29tcGxldGVkRWwuY2xhc3NMaXN0LmFkZChcIm1hcmtcIik7XHJcbiAgICB9XHJcbiAgICBVSS5jb2xvckJ0bnMoKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVRhc2tzKCkge1xyXG4gICAgY29uc3QgaXRlbXNMaXN0ID0gYXdhaXQgU3RvcmFnZS5nZXRUb2RvbGlzdCgpO1xyXG4gICAgLy8gaWYgKGF3YWl0IGl0ZW1zTGlzdClcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHRhc2tJdGVtcyA9IGl0ZW1zTGlzdC50YXNrcztcclxuICAgICAgT2JqZWN0LmVudHJpZXModGFza0l0ZW1zKS5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgY29uc3QgW2lkLCBjb250ZW50XSA9IGl0ZW07XHJcbiAgICAgICAgY29uc3QgdGFza0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPVxyXG4gICAgICAgICAgLy8gZm9sZCBkZXNjcmlwdGlvbiBpZiBpdCdzIHRvbyBsb25nXHJcbiAgICAgICAgICBjb250ZW50LmRlc2NyaXB0aW9uLmxlbmd0aCA+IDcxXHJcbiAgICAgICAgICAgID8gY29udGVudC5kZXNjcmlwdGlvbi5zbGljZSgwLCA3MSkuY29uY2F0KFwiLi4uXCIpXHJcbiAgICAgICAgICAgIDogY29udGVudC5kZXNjcmlwdGlvbjtcclxuICAgICAgICBjb25zdCBwcmlvcml0eUlzTm9uZSA9IGNvbnRlbnQucHJpb3JpdHkgPT09IFwibm9uZVwiID8gXCJkcC1ub25lXCIgOiBcIlwiO1xyXG4gICAgICAgIGNvbnN0IHByb2plY3RJc05vbmUgPSBjb250ZW50LnByb2plY3QgPT09IFwibm9uZVwiID8gXCJkcC1ub25lXCIgOiBcIlwiO1xyXG4gICAgICAgIHRhc2tDb250YWluZXIuY2xhc3NMaXN0LmFkZChcInRhc2stY29udGFpbmVyXCIpO1xyXG4gICAgICAgIHRhc2tDb250YWluZXIuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInRhZy1jb250YWluZXJcIiBkYXRhLWNvbG9yPVwiJHtjb250ZW50LnByaW9yaXR5fVwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJpb3JpdHkgJHtwcmlvcml0eUlzTm9uZX1cIj4ke2NvbnRlbnQucHJpb3JpdHl9PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdWUtZGF0ZVwiPiR7Y29udGVudC5kdWVEYXRlfTwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvamVjdCAke3Byb2plY3RJc05vbmV9XCI+JHtjb250ZW50LnByb2plY3R9PC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbmZvLWNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGl0bGVcIj4ke2NvbnRlbnQudGl0bGV9PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXNjcmlwdGlvblwiPiR7ZGVzY3JpcHRpb259PC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICBgO1xyXG4gICAgICAgIHRhc2tDb250YWluZXIuZGF0YXNldC5uYW1lID0gaWQ7XHJcbiAgICAgICAgdGFza0NvbnRhaW5lci5kYXRhc2V0LnN0YXR1cyA9IGNvbnRlbnQuY29tcGxldGVkO1xyXG4gICAgICAgIHRhc2tDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgIHJlYWRUYXNrKGlkLCBjb250ZW50KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBsaXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHRhc2tDb250YWluZXIpO1xyXG4gICAgICB9KTtcclxuICAgICAgRmlsdGVyLmZpbHRlclRhc2tzKCk7XHJcbiAgICAgIEZpbHRlci5zb3J0VGFza3MoKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNsZWFyTGlzdCgpIHtcclxuICAgIC8vIFJlbW92ZSBhbGwgdGhlIHRhc2tzXHJcbiAgICBsaXN0Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGFzay1jb250YWluZXJcIikuZm9yRWFjaCgodGFzaykgPT4ge1xyXG4gICAgICBsaXN0Q29udGFpbmVyLnJlbW92ZUNoaWxkKHRhc2spO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBzaG93SG9tZVBhZ2UobmV3TGlzdCkge1xyXG4gICAgLy8gU2hvdyBob21lcGFnZVxyXG4gICAgcHJvamVjdExpc3RCdG4uY2xhc3NMaXN0LnRvZ2dsZShcImRwLW5vbmVcIik7XHJcbiAgICBmaWx0ZXJDb250YWluZXIuY2xhc3NMaXN0LnRvZ2dsZShcImRwLW5vbmVcIik7XHJcbiAgICBsaXN0Q29udGFpbmVyLmNsYXNzTGlzdC50b2dnbGUoXCJkcC1ub25lXCIpO1xyXG4gICAgLy8gSGlkZSBidXR0b25zIGZvciB0YXNrIGVkaXRvclxyXG4gICAgdGFza0VkaXRvci5jbGFzc0xpc3QudG9nZ2xlKFwiZHAtbm9uZVwiKTtcclxuICAgIGFkZFRhc2tCdG4uY2xhc3NMaXN0LnRvZ2dsZShcImRwLW5vbmVcIik7XHJcbiAgICB1cGRhdGVUYXNrQnRuLmNsYXNzTGlzdC50b2dnbGUoXCJkcC1ub25lXCIpO1xyXG4gICAgZGVsZXRlVGFza0J0bi5jbGFzc0xpc3QuYWRkKFwiZHAtbm9uZVwiKTtcclxuICAgIC8vIFJlbW92ZSBhbGwgdGhlIHRhc2tzXHJcbiAgICBjbGVhckxpc3QoKTtcclxuICAgIC8vIFJlbG9hZCB0aGUgdXBkYXRlZCBpbmZvIHRvIGxvY2FsU3RvcmFnZVxyXG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJ0b2RvbGlzdFwiKTtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidG9kb2xpc3RcIiwgSlNPTi5zdHJpbmdpZnkobmV3TGlzdCkpO1xyXG4gICAgY3JlYXRlVGFza3MoKTtcclxuICB9XHJcblxyXG4gIC8vIGZvciBwcmVwYXJpbmcgYSBibGFuayB0YXNrIGZvcm0gb25seVxyXG4gIGFkZFRhc2tCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIFVJLnNldFRhc2tFZGl0b3JQYWdlKCk7XHJcbiAgICBzZXRQcm9qZWN0TGlzdCgpO1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBwcmlvcml0eUVsLFxyXG4gICAgICBkdWVEYXRlRWwsXHJcbiAgICAgIHByb2plY3RFbCxcclxuICAgICAgdGl0bGVFbCxcclxuICAgICAgZGVzY3JpcHRpb25FbCxcclxuICAgICAgY29tcGxldGVkRWwsXHJcbiAgICB9ID0gVUkuZ2V0Rm9ybUVsZW1lbnQoKTtcclxuICAgIC8vIFByaW9yaXR5XHJcbiAgICB0YXNrRWRpdG9yXHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiI3ByaW9yaXR5TWVudVwiKVxyXG4gICAgICAuc2V0QXR0cmlidXRlKFwiZGF0YS1jb2xvclwiLCBcImRlZmF1bHRcIik7XHJcbiAgICBwcmlvcml0eUVsLnRleHRDb250ZW50ID0gXCJub25lXCI7XHJcbiAgICAvLyBkdWUgZGF0ZVxyXG4gICAgZHVlRGF0ZUVsLnZhbHVlID0gZGF0ZU1ha2VyKERhdGUubm93KCkpO1xyXG4gICAgLy8gcHJvamVjdFxyXG4gICAgdGFza0VkaXRvclxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIiNwcm9qZWN0TWVudVwiKVxyXG4gICAgICAuc2V0QXR0cmlidXRlKFwiZGF0YS1jb2xvclwiLCBcImRlZmF1bHRcIik7XHJcbiAgICBwcm9qZWN0RWwudGV4dENvbnRlbnQgPSBcIm5vbmVcIjtcclxuICAgIC8vIHRpdGxlXHJcbiAgICB0aXRsZUVsLnZhbHVlID0gXCJcIjtcclxuICAgIC8vIFRhc2sgSURcclxuICAgIHRpdGxlRWwuZGF0YXNldC5uYW1lID0gXCJhZGROZXdUYXNrXCI7XHJcbiAgICAvLyBkZXNjcmlwdGlvblxyXG4gICAgZGVzY3JpcHRpb25FbC52YWx1ZSA9IFwiXCI7XHJcbiAgICAvLyBzdGF0dXNcclxuICAgIGNvbXBsZXRlZEVsLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXJrXCIpO1xyXG4gIH0pO1xyXG5cclxuICB1cGRhdGVUYXNrQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBjb25zdCB0YXNrbGlzdCA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgcmVzb2x2ZShTdG9yYWdlLmdldFRvZG9saXN0KCkpO1xyXG4gICAgICByZWplY3QobmV3IEVycm9yKFwic29tZXRoaW5nIHdyb25nIHdoZW4gdXBkYXRpbmdcIikpO1xyXG4gICAgfSk7XHJcbiAgICB0YXNrbGlzdC50aGVuKChmdWxsZmlsbGVkKSA9PiB7XHJcbiAgICAgIGNvbnN0IG5ld0xpc3QgPSBmdWxsZmlsbGVkO1xyXG4gICAgICBjb25zdCB0YXNrSWQgPSB0YXNrRWRpdG9yLnF1ZXJ5U2VsZWN0b3IoXCIjdG9kb0lucHV0XCIpLmRhdGFzZXQubmFtZTtcclxuICAgICAgY29uc3Qge1xyXG4gICAgICAgIHByaW9yaXR5RWwsXHJcbiAgICAgICAgZHVlRGF0ZUVsLFxyXG4gICAgICAgIHByb2plY3RFbCxcclxuICAgICAgICB0aXRsZUVsLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uRWwsXHJcbiAgICAgICAgY29tcGxldGVkRWwsXHJcbiAgICAgIH0gPSBVSS5nZXRGb3JtRWxlbWVudCgpO1xyXG4gICAgICBjb25zdCBmb3JtQ29udGVudCA9IHtcclxuICAgICAgICBwcmlvcml0eTogcHJpb3JpdHlFbC50ZXh0Q29udGVudCxcclxuICAgICAgICBkdWVEYXRlOiBuZXcgRGF0ZShkdWVEYXRlRWwudmFsdWUpLnRvTG9jYWxlRGF0ZVN0cmluZyhcImVuLVVTXCIsIHtcclxuICAgICAgICAgIHllYXI6IFwibnVtZXJpY1wiLFxyXG4gICAgICAgICAgbW9udGg6IFwic2hvcnRcIixcclxuICAgICAgICAgIGRheTogXCJudW1lcmljXCIsXHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgcHJvamVjdDogcHJvamVjdEVsLnRleHRDb250ZW50LFxyXG4gICAgICAgIHRpdGxlOiB0aXRsZUVsLnZhbHVlLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbkVsLnZhbHVlLFxyXG4gICAgICAgIGNvbXBsZXRlZDogY29tcGxldGVkRWwuY2xhc3NMaXN0LmNvbnRhaW5zKFwibWFya1wiKSxcclxuICAgICAgfTtcclxuICAgICAgY29uc3QgbmV3VGFza0lkID0gaGFzaChmb3JtQ29udGVudCk7XHJcbiAgICAgIGlmICh0YXNrSWQgaW4gbmV3TGlzdC50YXNrcykge1xyXG4gICAgICAgIGRlbGV0ZSBuZXdMaXN0LnRhc2tzW3Rhc2tJZF07XHJcbiAgICAgICAgbmV3TGlzdC50YXNrc1tuZXdUYXNrSWRdID0gZm9ybUNvbnRlbnQ7XHJcbiAgICAgIH0gZWxzZSBpZiAodGFza0lkID09PSBcImFkZE5ld1Rhc2tcIikge1xyXG4gICAgICAgIC8vIGVudGVyIHdpdGggYWRkIG5ldyB0YXNrIGJ1dHRvblxyXG4gICAgICAgIG5ld0xpc3QudGFza3NbbmV3VGFza0lkXSA9IGZvcm1Db250ZW50O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcInRoZSBlbnRyeSBvZiB0aGUgdGFzayBkb2Vzbid0IGV4aXRcIik7XHJcbiAgICAgIH1cclxuICAgICAgc2hvd0hvbWVQYWdlKG5ld0xpc3QpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZVRhc2soKSB7XHJcbiAgICBjb25zdCB0YXNrTGlzdCA9IGF3YWl0IFN0b3JhZ2UuZ2V0VG9kb2xpc3QoKTtcclxuICAgIGNvbnN0IG5ld0xpc3QgPSBhd2FpdCB0YXNrTGlzdDtcclxuICAgIGNvbnN0IHRhc2tJZCA9IHRhc2tFZGl0b3IucXVlcnlTZWxlY3RvcihcIiN0b2RvSW5wdXRcIikuZGF0YXNldC5uYW1lO1xyXG4gICAgaWYgKHRhc2tJZCBpbiBuZXdMaXN0LnRhc2tzKSB7XHJcbiAgICAgIGRlbGV0ZSBuZXdMaXN0LnRhc2tzW3Rhc2tJZF07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpZCBtaXNzaW5nLCBjaGVjayBkZWxldGVcIik7XHJcbiAgICB9XHJcbiAgICBzaG93SG9tZVBhZ2UoYXdhaXQgbmV3TGlzdCk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB0cmlnZ2VyUG9wVXAoKSB7XHJcbiAgICAvLyBpbmZvTXNnLCB1c2VJbnB1dD8sIGVyck1zZ1xyXG4gICAgc2hvd01zZ1BvcFVwKFwiRGVsZXRlIGNhbm5vdCB1bmRvXCIsIGZhbHNlKTtcclxuICAgIGV2ZW50LmZuID0gZGVsZXRlVGFzaztcclxuICB9XHJcblxyXG4gIGRlbGV0ZVRhc2tCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRyaWdnZXJQb3BVcCk7XHJcblxyXG4gIHJldHVybiB7IGNyZWF0ZVRhc2tzLCBjbGVhckxpc3QgfTtcclxufSkoKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRhc2tNYW5hZ2VyO1xyXG4iLCJpbXBvcnQgWFNWRyBmcm9tIFwiLi9pY29ucy94LnN2Z1wiO1xyXG5pbXBvcnQgZm9sZGVyUGx1c1NWRyBmcm9tIFwiLi9pY29ucy9mb2xkZXItcGx1cy5zdmdcIjtcclxuaW1wb3J0IHsgc2hvd01zZ1BvcFVwLCBldmVudCB9IGZyb20gXCIuL1BvcFVwXCI7XHJcbmltcG9ydCB7IGFkZFRhc2tCdG4sIGZpbHRlckNvbnRhaW5lciwgcHJvamVjdExpc3RCdG4gfSBmcm9tIFwiLi9VSVwiO1xyXG5pbXBvcnQgU3RvcmFnZSBmcm9tIFwiLi9TdG9yYWdlXCI7XHJcbmltcG9ydCBUYXNrTWFuYWdlciBmcm9tIFwiLi9UYXNrTWFuYWdlclwiO1xyXG5cclxuY29uc3QgUHJvamVjdE1hbmFnZXIgPSAoKCkgPT4ge1xyXG4gIGNvbnN0IHByb2plY3RDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3RDb250YWluZXJcIik7XHJcbiAgY29uc3QgbGlzdENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGlzdENvbnRhaW5lclwiKTtcclxuICBjb25zdCBwcm9qZWN0QWRkQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0QWRkLWJ0blwiKTtcclxuXHJcbiAgcHJvamVjdEFkZEJ0bi5xdWVyeVNlbGVjdG9yKFwiaW1nXCIpLnNyYyA9IGZvbGRlclBsdXNTVkc7XHJcblxyXG4gIGZ1bmN0aW9uIHJlbW92ZVByb2plY3RMaXN0SXRlbXMoKSB7XHJcbiAgICBjb25zdCBwcm9qZWN0TGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdExpc3RcIik7XHJcbiAgICBpZiAocHJvamVjdExpc3QuY2hpbGRyZW5bMF0pIHtcclxuICAgICAgcHJvamVjdExpc3QucmVtb3ZlQ2hpbGQocHJvamVjdExpc3QuY2hpbGRyZW5bMF0pO1xyXG4gICAgICByZW1vdmVQcm9qZWN0TGlzdEl0ZW1zKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gMDtcclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZVByb2plY3QocHJvamVjdE5vZGUpIHtcclxuICAgIGNvbnN0IHByb2plY3RJZCA9IHByb2plY3ROb2RlLmRhdGFzZXQubmFtZTtcclxuICAgIGNvbnN0IHRvZG9saXN0ID0gYXdhaXQgSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRvZG9saXN0XCIpKTtcclxuICAgIGNvbnN0IG5ld0xpc3QgPSBhd2FpdCB0b2RvbGlzdDtcclxuICAgIE9iamVjdC52YWx1ZXMobmV3TGlzdC50YXNrcykuZm9yRWFjaCgodGFzaykgPT4ge1xyXG4gICAgICBpZiAodGFzay5wcm9qZWN0ID09PSBwcm9qZWN0SWQpIHtcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cclxuICAgICAgICB0YXNrLnByb2plY3QgPSBcIm5vbmVcIjtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBkZWxldGUgbmV3TGlzdC5wcm9qZWN0c1twcm9qZWN0SWRdO1xyXG4gICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInRvZG9saXN0XCIsIEpTT04uc3RyaW5naWZ5KG5ld0xpc3QpKTtcclxuICAgIHJldHVybiAwO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gY3JlYXRlUHJvamVjdExpc3QoKSB7XHJcbiAgICBjb25zdCB0b2RvbGlzdCA9IGF3YWl0IFN0b3JhZ2UuZ2V0VG9kb2xpc3QoKTtcclxuICAgIGNvbnN0IHByb2plY3RzID0gYXdhaXQgdG9kb2xpc3QucHJvamVjdHM7XHJcbiAgICBsZXQgY291bnRlciA9IDE7XHJcbiAgICBPYmplY3QuZW50cmllcyhwcm9qZWN0cykuZm9yRWFjaCgocHJvamVjdCkgPT4ge1xyXG4gICAgICBjb25zdCBbbmFtZV0gPSBwcm9qZWN0O1xyXG4gICAgICBsZXQgWywgY291bnRdID0gcHJvamVjdDtcclxuICAgICAgT2JqZWN0LnZhbHVlcyh0b2RvbGlzdC50YXNrcykuZm9yRWFjaCgodGFzaykgPT4ge1xyXG4gICAgICAgIGlmIChuYW1lID09PSB0YXNrLnByb2plY3QpIHtcclxuICAgICAgICAgIGNvdW50ICs9IDE7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgLy8gaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLW5hbWU9JHtpZH1dYCkpIHJldHVybjtcclxuICAgICAgLy8gSWYgdGhlIGl0ZW0gZXhpc3RzLCBwYXNzIHRoaXMgcm91bmRcclxuICAgICAgY29uc3QgcHJvamVjdEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcbiAgICAgIHByb2plY3RJdGVtLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0LWl0ZW1cIik7XHJcblxyXG4gICAgICBwcm9qZWN0SXRlbS5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgICAgIDxwIGRhdGEtcHJvamVjdD4ke2NvdW50ZXJ9LiAke25hbWUudG9TdHJpbmcoKX08L3A+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0YXNrLWNvdW50ZXJcIj5cclxuICAgICAgICAgICAgICA8c3Bhbj4ke2NvdW50fTwvc3Bhbj5cclxuICAgICAgICAgICAgICA8ZGl2PnRhc2ske2NvdW50ID4gMSA/IFwic1wiIDogXCJcIn0gaW4gdGhlIHByb2plY3Q8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZWxldGUtc2lnblwiPlxyXG4gICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHtYU1ZHfVwiIGFsdD1cImRlbGV0ZVwiPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIGA7XHJcbiAgICAgIGNvdW50ZXIgKz0gMTtcclxuICAgICAgcHJvamVjdEl0ZW0uZGF0YXNldC5uYW1lID0gbmFtZTtcclxuICAgICAgcHJvamVjdEl0ZW1cclxuICAgICAgICAucXVlcnlTZWxlY3RvcihcIi5kZWxldGUtc2lnblwiKVxyXG4gICAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgc2hvd01zZ1BvcFVwKFxyXG4gICAgICAgICAgICBgJHtjb3VudH0gdGFzayR7Y291bnQgPiAxID8gXCJzXCIgOiBcIlwifSB3aWxsIGJlIHNldCB0byBQcm9qZWN0OiBub25lYCxcclxuICAgICAgICAgICAgZmFsc2VcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBldmVudC5mbiA9ICgpID0+IHtcclxuICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKGRlbGV0ZVByb2plY3QocHJvamVjdEl0ZW0pKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICByZW1vdmVQcm9qZWN0TGlzdEl0ZW1zKCk7XHJcbiAgICAgICAgICAgICAgY3JlYXRlUHJvamVjdExpc3QoKTtcclxuICAgICAgICAgICAgICBUYXNrTWFuYWdlci5jbGVhckxpc3QoKTtcclxuICAgICAgICAgICAgICBUYXNrTWFuYWdlci5jcmVhdGVUYXNrcygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIHByb2plY3RDb250YWluZXIucXVlcnlTZWxlY3RvcihcIm9sXCIpLmFwcGVuZENoaWxkKHByb2plY3RJdGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gYWRkUHJvamVjdChuYW1lKSB7XHJcbiAgICBjb25zdCB0b2RvbGlzdCA9IGF3YWl0IFN0b3JhZ2UuZ2V0VG9kb2xpc3QoKTtcclxuICAgIGNvbnN0IHsgcHJvamVjdHMgfSA9IGF3YWl0IHRvZG9saXN0O1xyXG4gICAgaWYgKG5hbWUgaW4gKGF3YWl0IHByb2plY3RzKSkge1xyXG4gICAgICBzaG93TXNnUG9wVXAoXCJDcmVhdGUgYSBwcm9qZWN0XCIsIHRydWUsIFwidGhlIG5hbWUgaGFzIGJlZW4gdXNlZFwiKTtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBpZiAobmFtZSA9PT0gZmFsc2UgfHwgIW5hbWUudG9TdHJpbmcoKS50cmltKCkpIHtcclxuICAgICAgc2hvd01zZ1BvcFVwKFwiQ3JlYXRlIGEgcHJvamVjdFwiLCB0cnVlLCBcIlBsZWFzZSBlbnRlciBhIG5hbWVcIik7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgcHJvamVjdHNbbmFtZV0gPSAwO1xyXG4gICAgY29uc3QgbmV3TGlzdCA9IHRvZG9saXN0O1xyXG4gICAgbmV3TGlzdC5wcm9qZWN0cyA9IHByb2plY3RzO1xyXG4gICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInRvZG9saXN0XCIsIEpTT04uc3RyaW5naWZ5KG5ld0xpc3QpKTtcclxuICAgIHJlbW92ZVByb2plY3RMaXN0SXRlbXMoKTtcclxuICAgIGNyZWF0ZVByb2plY3RMaXN0KCk7XHJcbiAgICByZXR1cm4gMDtcclxuICB9XHJcblxyXG4gIHByb2plY3RBZGRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIHNob3dNc2dQb3BVcChcIkNyZWF0ZSBhIHByb2plY3RcIiwgdHJ1ZSk7XHJcbiAgICAvLyBzZXR0ZXJcclxuICAgIGV2ZW50LmZuID0gYWRkUHJvamVjdDtcclxuICB9KTtcclxuXHJcbiAgcHJvamVjdExpc3RCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIC8vIEhpZGUgaG9tZXBhZ2VcclxuICAgIGZpbHRlckNvbnRhaW5lci5jbGFzc0xpc3QudG9nZ2xlKFwiZHAtbm9uZVwiKTtcclxuICAgIGxpc3RDb250YWluZXIuY2xhc3NMaXN0LnRvZ2dsZShcImRwLW5vbmVcIik7XHJcbiAgICBhZGRUYXNrQnRuLmNsYXNzTGlzdC50b2dnbGUoXCJkcC1ub25lXCIpO1xyXG4gICAgLy8gU2hvdyBwcm9qZWN0IGxpc3RcclxuICAgIHByb2plY3RDb250YWluZXIuY2xhc3NMaXN0LnRvZ2dsZShcImRwLW5vbmVcIik7XHJcbiAgICBwcm9qZWN0QWRkQnRuLmNsYXNzTGlzdC50b2dnbGUoXCJkcC1ub25lXCIpO1xyXG4gICAgLy8gQ2xlYXIgcHJvamVjdCBsaXN0LCBhbmQgcmVjcmVhdGUgaXRcclxuICAgIHJlbW92ZVByb2plY3RMaXN0SXRlbXMoKTtcclxuICAgIGNyZWF0ZVByb2plY3RMaXN0KCk7XHJcbiAgfSk7XHJcbiAgcmV0dXJuIHsgY3JlYXRlUHJvamVjdExpc3QgfTtcclxufSkoKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFByb2plY3RNYW5hZ2VyO1xyXG4iLCJpbXBvcnQgVGFza01hbmFnZXIgZnJvbSBcIi4vVGFza01hbmFnZXJcIjtcclxuaW1wb3J0IFByb2plY3RNYW5hZ2VyIGZyb20gXCIuL1Byb2plY3RNYW5hZ2VyXCI7XHJcbmltcG9ydCBTdG9yYWdlIGZyb20gXCIuL1N0b3JhZ2VcIjtcclxuaW1wb3J0IFVJIGZyb20gXCIuL1VJXCI7XHJcblxyXG5Qcm9taXNlLnJlc29sdmUoU3RvcmFnZS5nZXRUb2RvbGlzdCgpKS50aGVuKCgpID0+IHtcclxuICBUYXNrTWFuYWdlci5jcmVhdGVUYXNrcygpO1xyXG4gIFByb2plY3RNYW5hZ2VyLmNyZWF0ZVByb2plY3RMaXN0KCk7XHJcbn0pO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xyXG4gIFVJLmNvbG9yQnRucygpO1xyXG59KTtcclxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZyIsImdsb2JhbFRoaXMiLCJ0aGlzIiwiRnVuY3Rpb24iLCJlIiwid2luZG93Iiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiZG9jdW1lbnQiLCJjdXJyZW50U2NyaXB0Iiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibGVuZ3RoIiwiRXJyb3IiLCJyZXBsYWNlIiwicCIsInBvcFVwIiwiZ2V0RWxlbWVudEJ5SWQiLCJzaG93TXNnUG9wVXAiLCJtc2ciLCJ1c2VJbnB1dCIsImVyciIsImNsYXNzTGlzdCIsInJlbW92ZSIsInF1ZXJ5U2VsZWN0b3IiLCJ0ZXh0Q29udGVudCIsImFkZCIsImNoaWxkTm9kZSIsInJlbW92ZUNoaWxkIiwiaGludCIsImNyZWF0ZUVsZW1lbnQiLCJkYXRhc2V0IiwiaW5zZXJ0QmVmb3JlIiwidXNlIiwiaW5wdXQiLCJmbiIsImNhbGxiYWNrIiwiaW5wdXRWYWwiLCJ2YWwiLCJhZGRFdmVudExpc3RlbmVyIiwidGFyZ2V0IiwibWF0Y2hlcyIsInByZXZlbnREZWZhdWx0IiwidmFsdWUiLCJjb250YWlucyIsInRhc2tFZGl0b3IiLCJhZGRUYXNrQnRuIiwidXBkYXRlVGFza0J0biIsImZpbHRlckNvbnRhaW5lciIsImxpc3RDb250YWluZXIiLCJwcm9qZWN0TGlzdEJ0biIsImRlbGV0ZVRhc2tCdG4iLCJjb2xvckJ0bnMiLCJidG5Db250YWluZXJzIiwicXVlcnlTZWxlY3RvckFsbCIsImNvbG9yTmFtZSIsImZvckVhY2giLCJjb250YWluZXIiLCJzZXRBdHRyaWJ1dGUiLCJwbHVzIiwibGlzdCIsImRyb3Bkb3duIiwiY2xvc2VzdCIsInRvZ2dsZSIsInNldFRhc2tFZGl0b3JQYWdlIiwiZ2V0Rm9ybUVsZW1lbnQiLCJwcmlvcml0eUVsIiwiZHVlRGF0ZUVsIiwicHJvamVjdEVsIiwidGl0bGVFbCIsImRlc2NyaXB0aW9uRWwiLCJjb21wbGV0ZWRFbCIsIlN0b3JhZ2UiLCJ0b2RvbGlzdCIsInRhc2tzIiwiaW5pdCIsInByaW9yaXR5IiwiZHVlRGF0ZSIsIkRhdGUiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJ5ZWFyIiwibW9udGgiLCJkYXkiLCJwcm9qZWN0IiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImNvbXBsZXRlZCIsInByb2plY3RzIiwibXlQcm9qZWN0IiwicHJlZmVyZW5jZSIsInByb2plY3RGaWx0ZXIiLCJkaXNwbGF5RmlsdGVyIiwiZ2V0VG9kb2xpc3QiLCJhc3luYyIsIkpTT04iLCJwYXJzZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwiZGF0ZU1ha2VyIiwiZGF0ZSIsImZvcm1hdHRlZERhdGUiLCJnZXRNb250aCIsImdldERhdGUiLCJnZXRGdWxsWWVhciIsImNvbmNhdCIsIkZpbHRlciIsImZpbHRlclRhc2tzIiwiZmlsdGVyVmFsdWUiLCJmaWx0ZXJTZXR0aW5nIiwiZ2V0RmlsdGVyU2V0dGluZyIsInRhc2siLCJnZXRBdHRyaWJ1dGUiLCJldmVudCIsImlucHV0VmFsdWUiLCJ0b1VwcGVyQ2FzZSIsImtleXdvcmRzIiwic3BsaXQiLCJjb21wYXJpc29uIiwiaSIsImZpbHRlclByb2plY3QiLCJQcm9taXNlIiwicmVzb2x2ZSIsIm5ld0xpc3QiLCJjbGVhciIsInNldEZpbHRlciIsInRoZW4iLCJzb3J0VGFza3MiLCJ0YXNrQ29udGFpbmVycyIsInRhc2tBcnIiLCJBcnJheSIsImZyb20iLCJpZCIsIm1zYyIsImdldFRpbWUiLCJwcm9qZWN0Q29kZUFyciIsIm1hcCIsIngiLCJjaGFyQ29kZUF0Iiwic3RhdHVzIiwiZWwiLCJub25lIiwiTG93IiwiTWVkaXVtIiwiSGlnaCIsInB1c2giLCJhcnIiLCJzb3J0ZWRBcnIiLCJqIiwiZGF0ZTEiLCJOdW1iZXIiLCJwYXJzZUludCIsImRhdGUyIiwibGF0ZXJEYXRlIiwic2FtZURhdGUiLCJoaWdoZXJQcmlvcml0eSIsInNhbWVQcmlvcml0eSIsInByaW9yTmFtZUluZGV4IiwibmFtZUFycjEiLCJuYW1lQXJyMiIsImxldHRlckxlbmd0aCIsInNhbWVTdHJpbmciLCJqb2luIiwiayIsInVuY29tcGxldGVkIiwic2FtZVN0YXR1cyIsInNob3VsZFN3YXAiLCJ0ZW1wIiwiYnViYmxlU29ydCIsIml0ZW0iLCJ0YXNrTm9kZSIsImNvcHkiLCJhcHBlbmRDaGlsZCIsInNldFByb2plY3RMaXN0IiwicHJvamVjdERvcGRvd24iLCJjaGlsZHJlbiIsIk9iamVjdCIsImtleXMiLCJwcm9qZWN0TmFtZSIsImRyb3Bkb3duSXRlbSIsInByb2plY3RMaW5rIiwiYWRkUHJvamVjdCIsIm5hbWUiLCJ0b1N0cmluZyIsInRyaW0iLCJjcmVhdGVUYXNrcyIsIml0ZW1zTGlzdCIsInRhc2tJdGVtcyIsImVudHJpZXMiLCJjb250ZW50IiwidGFza0NvbnRhaW5lciIsInNsaWNlIiwicHJpb3JpdHlJc05vbmUiLCJwcm9qZWN0SXNOb25lIiwiaW5uZXJIVE1MIiwicmVhZFRhc2siLCJjbGVhckxpc3QiLCJzaG93SG9tZVBhZ2UiLCJyZW1vdmVJdGVtIiwiZGVsZXRlVGFzayIsInRhc2tMaXN0IiwidGFza0lkIiwibm93IiwicmVqZWN0IiwiZnVsbGZpbGxlZCIsImZvcm1Db250ZW50IiwibmV3VGFza0lkIiwiaGFzaFZhbHVlIiwiY29kZUFyciIsInZhbHVlcyIsImMiLCJoYXNoIiwiUHJvamVjdE1hbmFnZXIiLCJwcm9qZWN0Q29udGFpbmVyIiwicHJvamVjdEFkZEJ0biIsInJlbW92ZVByb2plY3RMaXN0SXRlbXMiLCJwcm9qZWN0TGlzdCIsImNyZWF0ZVByb2plY3RMaXN0IiwiY291bnRlciIsImNvdW50IiwicHJvamVjdEl0ZW0iLCJwcm9qZWN0Tm9kZSIsInByb2plY3RJZCIsImRlbGV0ZVByb2plY3QiXSwic291cmNlUm9vdCI6IiJ9